<h3>Topics</h3>
<div class="row">
  <% flash.each do |type, msg| %>
    <div class="alert alert-primary" style="width: 100%">
      <%= msg %>
    </div>
    
  <% end %>
  <table class="table table-bordered">
    <thead  class="thead-dark">
      <tr>
        <th>#</th>
        <th>Slug</th>
        <th>Metadata</th>
      </tr>
    </thead>
    <tbody>
      <% if @topics.length() > 0 %>
        <% @topics.each do |topic| %>
        <tr>
          <td><%= topic.id  %></td>
          <td><%= link_to topic.slug, topic_path(topic)  %></td>
          <td><pre><%= topic.metadata %></pre></td>
        </tr>
        <% end %>
      <% else %>
        <tr>
          <td colspan="3">No topics registered</td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
<%= render partial: 'layouts/errors', locals: {model: @topic} %>
<div class="row">
    <div class="card" style="width: 100%">
      <div class="card-header">
        <h4>New topic</h4>
      </div>
      <div class="card-body">
        <div>
          <%= form_with model: @topic, local: true do |form| %>
            <div class="form-group">
              <%= form.label :slug %><br>
              <%= form.text_field :slug, class: "form-control" %>
            </div>
            <div class="form-group">
              <%= form.label :metadata %><br>
              <%= form.text_area :metadata, class: "form-control" %>
            </div>
            <%= form.submit 'Save', class: "btn btn-primary"%>
          <% end %>
        </div>
      </div>
  
</div>